# C++-Part6

## 简述C与C++的内存分配方式

1. 从静态存储区域分配
   1. 内存在程序编译时就已经分配好，这块内存在程序的整个运行期间都存在，如全局变量，static变量等
2. 在栈上创建
   1. 在执行函数时，函数内局部变量的存储单元都可以在栈上创建，函数执行结束时这些存储单元自动被释放。
   2. 栈内存分配运算内置于处理器的指令集中，效率很高，但是分配的内存容量有限。
3. 从堆上分配（动态内存分配）
   1. 程序在运行的时候用malloc或new申请任意大小的内存，程序员负责决定何时用free或delete释放内存
   2. 动态内存的生存期由自己决定，灵活性强

## new、delete、malloc、free的关系

- new/delete会调用对象的构造/析构函数，而malloc/free只会释放内存