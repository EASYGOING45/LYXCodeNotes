# C++复盘-基础部分

## 基础

### 预处理、编译、汇编、链接？

预处理：展开头文件、宏替换、去掉注释

编译：生成汇编

汇编：汇编指令转换为机器指令

链接：链接到一起生成可执行程序

### C++和其它语言的区别

#### C++和C的区别

C++是面向对象的语言，C是面向过程的语言

C++引入new/delete的概念，取代了C中malloc/free的概念

C++引入引用，C没有

C++引入类，C没有

C++引入函数重载，C没有

#### C++和Python的区别

C++是编译语言，Python是脚本语言

C++用花括号，Python用缩进

C++需要事先定义变量，Python不需要定义

C++库函数少，Python库函数多

#### C++和Java的区别

Java的移植性更强

Java中没有指针的概念

Java用接口，C++用抽象类

Java自动分配和回收内存，C++需要自己注意

Java适合Web应用，C++适合桌面程序

### 从源文件到可执行文件

预处理、编译、汇编、链接

### 动态链接、静态链接

动态链接：通过记录一系列符号和参数，程序运行时将信息传递给操作系统，需要的动态库加载到内存中，运行时链接

​	优点：共享一个动态库，节省资源

​	缺点：运行时加载，影响性能

静态链接：编译链接时直接将执行的代码拷贝到调用处

​	优点：不用依赖库，可以独立执行

​	缺点：体积大，静态库更新需要重新链接

### 函数调用过程

```C++
//示例代码
#include<stdio.h>

int sum(int a,int b)
{
    return a+b;
}

int mul(int a,int b)
{
    return a*b;
}

int main()
{
	int x=5,y=10,z=0;
	z=sum(x,y);
    z=mul(x,y);
    return 0;
}
```

A调用B，B的返回值存在eax寄存器中

A向上增长，遇到sum()进去执行sum()，然后回退到当前位置，然后再执行后面的函数

![image-20230823104210170](https://happygoing.oss-cn-beijing.aliyuncs.com/img/image-20230823104210170.png)