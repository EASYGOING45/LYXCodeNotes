# 面经预热-Day7（计网专题）

## 1、常见的请求方式？GET和POST请求的区别？

1. 作用不同

   - GET用于从服务端获取资源
   - POST一般用来向服务器端提交数据

2. 参数传递方式不同

   - GET请求的参数一般写在URL中，且只接受ASCII字符
   - POST请求的参数一般放在请求体中，对于数据类型也没有限制

3. 安全性不同

   - 因为参数传递方式的不同，所以两者安全性也不同，GET请求的参数直接暴露在URL中，所以更不安全，不能用来传递敏感信息

4. 参数长度限制不同

   - GET传送的数据量较小，不能大于2KB
   - POST传送的数据量较大，一般被默认为不受限制
   - HTTP协议没有BODY和URL字段的长度限制，对URL限制的大多是浏览器和服务器的原因

5. 编码方式不同

   - GET请求只能进行URL编码 `application/x-www-form-urlencoded`
   - POST请求支持多种编码方式 `application/x-www-form-urlencoded` 或 `multipart/form-data`。为⼆ 进制数据使⽤多种编码。

6. 缓存机制不同

   - GET请求会被浏览器主动cache，而POST不会，除非手动设置
   - GET请求参数会被完整保留在浏览器历史记录里，而POST中的参数不会被保留
   - GET产生的URL地址可以被保存为书签，而POST不可以
   - GET在浏览器回退时是无害的，而POST会再次提交请求

7. 时间消耗不同

   - GET产生一个TCP数据包
   - POST产生两个TCP数据包

   对于GET方式的请求，浏览器会把header和data一并发送出去，服务器响应200（返回数据）；

   而对于POST，浏览器先发送Header，服务器响应100continue，浏览器再发送data，服务器响应200ok（返回数据）

8. 幂等

   意思是多次执行相同的操作，结果都是【相同】的

   - GET方法就是安全且幂等的，因为它是【只读】操作，无论操作多少次，服务器上的数据都是安全的，且每次的结果都是相同的
   - POST因为是【新增/提交数据】的操作，会修改服务器上的资源，所以是不安全的，且多次提交数据就会创建多个资源，所以不是幂等的

## 2、什么是强缓存和协商缓存

![image-20230915150015726](https://happygoing.oss-cn-beijing.aliyuncs.com/img/image-20230915150015726.png)

### 缓存可以解决什么问题： 

- 减少不必要的⽹络传输，节约带宽
- 更快的加载⻚⾯ 
- 减少服务器负载，避免服务过载的情况出现

### 强缓存

![image-20230915150137158](https://happygoing.oss-cn-beijing.aliyuncs.com/img/image-20230915150137158.png)

### 协商缓存（了解）

![image-20230915150306341](https://happygoing.oss-cn-beijing.aliyuncs.com/img/image-20230915150306341.png)

![image-20230915150315855](https://happygoing.oss-cn-beijing.aliyuncs.com/img/image-20230915150315855.png)

## 3、HTTP1.0和HTTP1.1的区别

1. 长连接
   - `HTTP1.1` 支持长连接，每一个TCP连接上可以传送多个HTTP请求和响应，默认开启`Connection：Keep-Alive`
   - `HTTP1.0`默认为短连接，每次请求都需要建立一个TCP连接
2. 缓存
   - `HTTP1.0`主要使用 `If-Modified-Since/Expires`来做为缓存判断的标准
   - `HTTP1.1`则引入了更多的缓存控制策略例如 `Entity tag / If-None-Match`等更多可供选择的缓存头来控制缓存策略
3. 管道化
   - 基于`HTTP1.1`的长连接，使得请求管线化成为可能，管线化使得请求能够并行传输，但是响应必须按照请求发出的顺序依次返回，性能在一定程度上得到了改善
4. 增加Host字段
   - 使得一个服务器能够用来创建多个Web站点
5. 状态码
   - 新增了24个错误状态响应码
6. 带宽优化
   - `HTTP1.0`中，存在一些浪费带宽的现象，例如客户端只是需要某个对象的一部分，而服务器却将整个对象送过来了，并且不支持断点续传功能
   - `HTTP1.1`则在请求头引入了`range`头域，它允许只请求资源的某个部分，即返回码是 `206（Partial Content）`

## 4、HTTP2.0和HTTP1.1的区别

1. 二进制分帧

   在应⽤层 （HTTP/2.0） 和传输层 （TCP or UDP） 之间增加⼀个⼆进制分帧层，从⽽突破 HT TP1.1 的性能限制，改进传输性能，实现低延迟和⾼吞吐量。

2. 多路复用（MultiPlexing）

   允许同时通过单⼀的 HTTP/2 连接发起多重的请求-响应消息，这个强⼤的功能则是基于“⼆ 进制分帧”的特性。

3. 首部压缩

   HTTP1.1 不⽀持 header 数据的压缩， HTTP/2.0 使⽤ HPACK 算法对 header 的数据进⾏压缩，这样数据体积⼩了，在⽹络上传输就会更快。⾼效的压缩算法可以很⼤的压缩 h eader ，减少发送包的数量从⽽降低延迟。

4. 服务端推送（Server Push）

   在 HTTP/2 中，服务器可以对客户端的⼀个请求发送多个响应，即服务器可以额外的向客户端 推送资源，⽽⽆需客户端明确的请求。

